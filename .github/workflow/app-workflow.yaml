name: app-workflow

on:
  push:
    branches: [master]
  pull_request:
    branches: [master]

jobs:
  build:
    runs-on: self-hosted

  steps:
  - uses: actions/checkout@v3
  - name: Use app-workflow $({matrix.node-version})
    uses: actions/setup-node@v3
    with:
      node-version: $({matrix.node-version})
  - run:
    cd api
    npm install
    node index.js
    cd ..
    cd client
    npm install
    npm run dev